<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>스타일 추천 시스템</title>
    <link rel="icon" type="image/x-icon" href="웹페이지아이콘추가" />
    <!-- Font Awesome icons (free version) -->
    <script
      src="https://use.fontawesome.com/releases/v6.3.0/js/all.js"
      crossorigin="anonymous"
    ></script>
    <!-- Google fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Lato:100,100i,300,300i,400,400i,700,700i,900,900i"
      rel="stylesheet"
    />
    <!-- Core theme CSS (includes Bootstrap) -->
    <link href="css/styles.css" rel="stylesheet" />
  </head>

  <body id="page-top">
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark navbar-custom fixed-top">
      <div class="container px-5">
        <a class="navbar-brand" href="index.html">스타일 추천 시스템</a>
        <!-- 클릭시 메인화면으로 -->
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarResponsive"
          aria-controls="navbarResponsive"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ms-auto" id="navbar_items">
            <!-- 네비게이션 메뉴는 JavaScript로 동적 업데이트 -->
          </ul>
        </div>
      </div>
    </nav>

    <!-- Header -->
    <header class="masthead text-center text-white">
      <div class="masthead-content">
        <!-- 제일 위쪽 화면, 시작하기를 누르면 프로그램 가동 -->
        <div class="container px-5">
          <h1 class="masthead-heading mb-0">스타일 추천 시스템</h1>
          <h2 class="masthead-subheading mb-0">
            자신 만의 스타일을 찾아보세요
          </h2>
          <a
            class="btn btn-primary btn-xl rounded-pill mt-5"
            href="optionSelect.html"
            >시작하기</a
          >
        </div>
      </div>
      <!-- 상단 페이지 뒷배경 구성 -->
      <div class="bg-circle-1 bg-circle"></div>
      <div class="bg-circle-2 bg-circle"></div>
      <div class="bg-circle-3 bg-circle"></div>
      <div class="bg-circle-4 bg-circle"></div>
    </header>

    <!-- Footer -->
    <footer class="py-5 bg-black">
      <div class="container px-5">
        <p class="m-0 text-center text-white small">
          Copyright &copy; Your Website 2024
        </p>
      </div>
    </footer>

    <script>
      // 네비게이션 메뉴 동적 업데이트
      document.addEventListener("DOMContentLoaded", () => {
        const navbarItems = document.getElementById("navbar_items");
        const token = localStorage.getItem("token"); // JWT 토큰
        const username = localStorage.getItem("username"); // 사용자 이름

        if (token && username) {
          // 로그인 상태
          navbarItems.innerHTML = `
            <li class="nav-item"><a class="nav-link" href="myPreset.html">내스타일</a></li>
            <li class="nav-item"><span class="nav-link">로그인 유저: ${username}</span></li>
            <li class="nav-item"><a class="nav-link" href="#" onclick="handleLogout()">로그아웃</a></li>
          `;
        } else {
          // 비로그인 상태
          navbarItems.innerHTML = `
            <li class="nav-item"><a class="nav-link" href="myPreset.html">내스타일</a></li>
            <li class="nav-item"><a class="nav-link" href="join.html">회원가입</a></li>
            <li class="nav-item"><a class="nav-link" href="login.html">로그인</a></li>
          `;
        }
      });

      // 로그아웃 처리
      function handleLogout() {
        localStorage.removeItem("token");
        localStorage.removeItem("username");
        alert("로그아웃되었습니다.");
        window.location.href = "index.html"; // 메인 페이지로 리디렉션
      }
    </script>

    <!-- Bootstrap core JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
